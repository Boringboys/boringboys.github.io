
<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  
    <meta name="keywords" content="工具,安全,学习," />
  

  
    <meta name="description" content="我的博客" />
  
  
  
  <link rel="icon" type="image/x-icon" href="/images/mylogo.png">
  
  <title>Metasploit命令学习 [ Boringboys ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
      <link rel="stylesheet" href="/css/mini_css.css">
    
  
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Boringboys" type="application/atom+xml">
</head>


<body>
  <div id="mini_button">
    <div id="mini_button_inner"></div>
  </div>
  <div id="mini_box">
    <div id="mini_list"></div>
  </div>

  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    
      <img class="avatar" src="https://www.boringboys.top/images/mylogo.png">
    
    <span class="title" style="text-transform:none">Boringboys</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            
              <li class="pure-menu-item"><a href="/" class="pure-menu-link">主页</a></li>
            
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="文章" class="pure-menu-link">文章</a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="/categories" style="color:#202020;" class="pure-menu-link">类别</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/archives" style="color:#202020;" class="pure-menu-link">归档</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/tags" style="color:#202020;" class="pure-menu-link">标签</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="其它" class="pure-menu-link">其它</a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="/paper" style="color:#202020;" class="pure-menu-link">文件</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/project" style="color:#202020;" class="pure-menu-link">项目</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/activity" style="color:#202020;" class="pure-menu-link">动态</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item"><a href="/links" class="pure-menu-link">友链</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/about" class="pure-menu-link">关于</a></li>
            
          
      
  </ul>
   
</nav>

  </div>

  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        Metasploit命令学习
      </h1>
      <span>
        
        <time class="time" datetime="2018-03-29T12:43:13.000Z">
        2018-03-29
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E5%85%A8/" rel="tag">安全</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">阅读耗时 9 分钟</span>
    </header>

    <div class="post-content">
      <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>为了方便自己后期的学习，我把metasploit的帮助信息简单翻译了一下，包括命令和一些用法描述。</p>
<a id="more"></a>

<h1 id="核心命令"><a href="#核心命令" class="headerlink" title="核心命令"></a>核心命令</h1><pre><code>命令          描述
-------       -----------
?             帮助菜单
banner        在命令行里显示一个好看的metasploit图案（一个很有趣的命令^0^）
cd            更改当前工作目录
color         启用或禁用颜色输出
connect       连接到一个主机
exit          退出msfconsole
get           获得一个上下文特定变量的值
getg          获得一个全局变量的值
grep          从另一个命令的输出中查找符合条件的行
help          帮助菜单
history       显示历史命令
load          加载框架插件
quit          退出msfconsole（有提示Y/N）
repeat        重复一个命令列表
route         通过会话路由流量
save          保存活动数据
sessions      转储会话列表并显示有关会话的信息
set           设置一个上下文特定变量的值
setg          设置一个全局变量的值
sleep         在指定的秒数内不执行任何操作
spool         将控制台输出写入某个文件
threads       查看和操纵后台线程
unload        卸载框架插件
unset         取消设置一个或多个上下文特定变量的值
unsetg        取消设置一个或多个全局变量的值
version       显示框架和控制台库版本号</code></pre><h1 id="模块命令"><a href="#模块命令" class="headerlink" title="模块命令"></a>模块命令</h1><pre><code>命令             描述
-------       -----------
advanced      显示一个或多个模块的高级选项
back          从当前上下文后退
info          显示一个或多个模块的信息
loadpath      从路径搜索模块并加载
options       显示一个或多个模块的全局选项
popm          将最新模块弹出堆栈并使其激活
previous      将先前加载的模块设置为当前模块
pushm         将活动模块或模块列表推入模块堆栈
reload_all    从所有定义的模块路径重新加载所有模块
search        搜索模块名称和描述
show          显示给定类型的模块，或者所有模块
use           按名称选择模块</code></pre><h1 id="作业命令"><a href="#作业命令" class="headerlink" title="作业命令"></a>作业命令</h1><pre><code>命令          描述
-------       -----------
handler       启动有效负载处理程序作为作业
jobs          显示和管理作业
kill          杀死作业
rename_job    重命名作业</code></pre><h1 id="资源脚本命令"><a href="#资源脚本命令" class="headerlink" title="资源脚本命令"></a>资源脚本命令</h1><pre><code>命令          描述
-------       -----------
makerc        将启动之后输入的命令保存到文件中
resource      运行文件中的命令</code></pre><h1 id="数据库后端命令"><a href="#数据库后端命令" class="headerlink" title="数据库后端命令"></a>数据库后端命令</h1><pre><code>命令              描述
-------           -----------
analyze           分析有关特定地址或地址范围的数据库信息
db_connect        连接到现有的数据服务
db_disconnect     断开当前数据服务
db_export         导出包含数据库内容的文件
db_import         导入扫描结果文件（将自动检测文件类型）
db_nmap           执行nmap并自动记录输出
db_rebuild_cache  重建数据库存储的模块缓存
db_remove         删除保存的数据服务条目
db_save           将当前数据服务连接保存为默认值，以便在启动时重新连接
db_status         显示当前数据服务状态
hosts             列出数据库中的所有主机
loot              列出数据库中的所有Loot(战利品)
notes             列出数据库中的所有注释
services          列出数据库中的所有服务
vulns             列出数据库中的所有漏洞
workspace         在数据库工作区之间切换</code></pre><h1 id="凭证后端命令"><a href="#凭证后端命令" class="headerlink" title="凭证后端命令"></a>凭证后端命令</h1><pre><code>命令          描述
-------       -----------
creds         列出数据库中的所有证书</code></pre><h1 id="开发人员命令"><a href="#开发人员命令" class="headerlink" title="开发人员命令"></a>开发人员命令</h1><pre><code>命令          描述
-------       -----------
edit          使用首选的编辑器编辑当前模块或文件
irb           在当前上下文中打开一个交互式Ruby Shell
log           如果可以，将framework.log显示到页面末尾
pry           在当前模块或框架上打开Pry调试器
reload_lib    从指定路径重新加载Ruby库文件</code></pre><h1 id="msfconsole"><a href="#msfconsole" class="headerlink" title="msfconsole"></a>msfconsole</h1><p><strong>msfconsole</strong>是Metasploit框架的主要接口。使用者可以通过这个控制台高效的使用MSF中的各种功能。<br>可以在终端或命令行界面直接输入<code>msfconsole</code>启动。</p>
<h2 id="范围和列表"><a href="#范围和列表" class="headerlink" title="范围和列表"></a>范围和列表</h2><p>上面列出的许多命令和选项都可以使用范围，所以不必手动列出每个需要的事物。所有范围均包括在内。</p>
<h3 id="ID范围"><a href="#ID范围" class="headerlink" title="ID范围"></a>ID范围</h3><p>带有ID列表的命令可以使用范围来提供帮助。各个ID必须以<code>,</code>分隔（不允许有空格），<br>范围可以用<code>-</code>或<code>..</code>表示。</p>
<h3 id="IP范围"><a href="#IP范围" class="headerlink" title="IP范围"></a>IP范围</h3><p>这里有多种方法可以用来指定能混合在一起的IP地址范围：</p>
<ul>
<li>第一种方法是一个IP列表，这些IP仅由<code>&#39; &#39;</code>（ASCII空格）分隔，并带有可选的<code>,</code>。</li>
<li>第二种方式是用两个完整的IP地址表示范围，格式为<em>“开始地址-结束地址”</em>，例如<code>127.0.1.44-127.0.2.33</code>。</li>
<li>也可以使用CIDR规范，但是，与RFC相反，必须将整个地址提供给Metasploit，例如127.0.0.0/8，而不是127/8。</li>
<li>此外，可以将网络掩码与域名一起使用以动态解析要定位的块。</li>
</ul>
<p>所有这些方法都适用于IPv4和IPv6地址。也可以根据<a href="https://nmap.org/book/man-target-specification.html" target="_blank" rel="noopener">NMAP目标规范</a>用特殊的八位位组范围指定IPv4地址。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>终止第一个会话：</p>
<pre><code>sessions -k 1</code></pre><p>停止一些正在运行的作业：</p>
<pre><code>jobs -k 2-6,7,8,11..15</code></pre><p>检查一组IP地址：</p>
<pre><code>check 127.168.0.0/16, 127.0.0-2.1-4,15 127.0.0.255</code></pre><p>定位一组IPv6主机：</p>
<pre><code>set RHOSTS fe80::3990:0000/110, ::1-::f0f0</code></pre><p>定位来自解析域名的块：</p>
<pre><code>set RHOSTS www.example.test/24</code></pre><blockquote>
<p>翻译：Boringboys<br>原文链接：<a href="https://www.boringboys.top/2019/03/29/Metasploit命令/">https://www.boringboys.top/2019/03/29/Metasploit命令/</a><br>版权声明：本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">BY-NC-SA</a>协议授权，转载请遵守此协议</p>
</blockquote>

    </div>

  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">Posts</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-text">概述</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#核心命令"><span class="toc-text">核心命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#模块命令"><span class="toc-text">模块命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#作业命令"><span class="toc-text">作业命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#资源脚本命令"><span class="toc-text">资源脚本命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据库后端命令"><span class="toc-text">数据库后端命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#凭证后端命令"><span class="toc-text">凭证后端命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#开发人员命令"><span class="toc-text">开发人员命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#msfconsole"><span class="toc-text">msfconsole</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#范围和列表"><span class="toc-text">范围和列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ID范围"><span class="toc-text">ID范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP范围"><span class="toc-text">IP范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#示例"><span class="toc-text">示例</span></a></li></ol></li></ol>
  </div>


  </div>
</div>
<div class="copyright">
    <span>本作品采用</span>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">知识共享署名 4.0 国际许可协议</a>
    <span>进行许可。 转载时请注明原文链接。</span>
</div>


  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>〈 </span>
          <a href="/1899/11/30/Hello_World/" rel="next" title="Hello World">
          Hello World
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/2018/04/23/Nessus%E5%9C%A8Windows%E4%B8%8A%E7%9A%84%E5%AE%89%E8%A3%85/" rel="prev" title="Nessus在Windows上的安装">
            Nessus在Windows上的安装
          </a>
          <span>〉</span>
        
      </div>
    </div>
  



    </div>

    

  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <!-- <a class="bottom-item" href="https://github.com/boringboys" target="_blank">GitHub</a> | -->
        <!-- <a class="bottom-item" href="/paper" target="_blank">文件</a> | -->
        <!-- <a class="bottom-item" href="/project" target="_blank">项目</a> | -->
        <!-- <a class="bottom-item" href="/activity" target="_blank">动态</a> | -->
        <a class="bottom-item" href="/links">友情链接</a> |
        <a class="bottom-item" href="https://hexo.io" target="_blank">Powered by hexo</a> |
        <a class="bottom-item" href="https://github.com/fooying/hexo-theme-xoxo-plus" target="_blank">Theme xoxo-plus</a> |
        <a class="bottom-item" href="/atom.xml">RSS</a>
        <div class="footer_copyright">
            <span>
                &copy; 2018-2023 Boringboys
            </span>
        </div>
    </div>
</footer>

  
  <!-- scripts list from theme config.yml -->
  
    <script src="/js/mini_js.js"></script>
  
    <script src="/js/mini_js_2.js"></script>
  
    <script src="/js/md5.min.js"></script>
  


<script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * 给logo设置点击事件
     * 
     * - 回到顶部
     * - 出现爱心
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>

  



  

</body>
</html>
